const e={debounce:!1,debounceTime:1e3,debounceFields:[],unobservedFields:[]};function n(e,n){let t=null;return(...c)=>{t&&clearTimeout(t),t=setTimeout((()=>{t=null,e(...c)}),n)}}const oStore=(store={},instanceOrFn={},config)=>{const n=instanceOrFn.rerender?{fn:instanceOrFn.rerender,instance:instanceOrFn}:{fn:instanceOrFn,instance:null};return new Proxy(store,t(n,{...e,...config}))},t=(e,config)=>{const{debounceTime:o,debounceFields:r,unobservedFields:u}=config;let{debounce:l}=config;r.length&&(l=!0);const d=n((()=>{c(e)}),o);return{deleteProperty:function(n,t){return delete n[t],c(e),!0},get:function(n,c){return["[object Object]","[object Array]"].indexOf(Object.prototype.toString.call(n[c]))>-1?new Proxy(n[c],t(e,config)):n[c]},set:function(n,t,o){return n[t]===o||(n[t]=o,!!u.includes(t)||(l?r.length?(r.includes(t)?d():c(e),!0):(d(),!0):(c(e),!0)))}}},c=e=>{const n=document.activeElement.id;e.fn.call(e.instance);const t=document.getElementById(n);t&&t.focus()};export default oStore;
//# sourceMappingURL=oStore.js.map